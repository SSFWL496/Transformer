2021-11-24 11:29:47 | INFO | fairseq_cli.generate | Namespace(all_gather_list_size=16384, beam=4, bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_suffix='', cpu=False, criterion='cross_entropy', data='./data-bin/iwslt14de2en', data_buffer_size=10, dataset_impl=None, ddp_backend='c10d', decay_num=100000, decoding_format=None, device_id=0, difficult_queue_size=20000, distil_curiosity_rate=0.75, distil_rate=0.5, distil_rate_decrease_start_step=-1, distil_schedule='unchange', distil_strategy='normal', distil_weight_strategy='', distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_port=-1, distributed_rank=0, distributed_world_size=1, distributed_wrapper='DDP', diverse_beam_groups=-1, diverse_beam_strength=0.5, diversity_rate=-1.0, embedding_alpha=1.0, embedding_norm='', empty_cache_freq=0, eval_bleu=False, eval_bleu_args=None, eval_bleu_detok='space', eval_bleu_detok_args=None, eval_bleu_print_samples=False, eval_bleu_remove_bpe=None, eval_tokenized_bleu=False, fast_stat_sync=False, find_unused_parameters=False, fix_batches_to_gpus=False, force_anneal=None, fp16=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, gen_subset='test', iter_decode_eos_penalty=0.0, iter_decode_force_max_iter=False, iter_decode_max_iter=10, iter_decode_with_beam=1, iter_decode_with_external_reranker=False, kd_rescale=1.0, kl_loss_combine_rate=0.5, left_pad_source='True', left_pad_target='False', lenpen=0.6, load_alignments=False, localsgd_frequency=3, log_format=None, log_interval=100, lr_scheduler='fixed', lr_shrink=0.1, match_source_len=False, max_len_a=0, max_len_b=200, max_sentences=64, max_source_positions=1024, max_target_positions=1024, max_tokens=None, memory_efficient_bf16=False, memory_efficient_fp16=False, min_len=1, min_loss_scale=0.0001, mix_schedule='teacher', model_overrides='{}', model_parallel_size=1, nbest=1, no_beamable_mm=False, no_early_stop=False, no_progress_bar=False, no_repeat_ngram_size=0, no_seed_provided=True, nprocs_per_node=1, num_batch_buckets=0, num_shards=1, num_workers=1, open_noise_teacher=False, optimizer=None, path='./checkpoints/tiny-iwlst-de-en/transformer_iwlst14de2en/checkpoint_best.pt', predict_change_margin=0.23, prefix_size=0, print_alignment=False, print_step=False, profile=False, quantization_config_path=None, quiet=True, remove_bpe='@@ ', replace_unk=None, required_batch_size_multiple=8, results_path=None, retain_dropout=False, retain_dropout_modules=None, retain_iter_history=False, sacrebleu=False, sampling=False, sampling_topk=-1, sampling_topp=-1.0, score_reference=False, scoring='bleu', seed=1, shard_id=0, sigmoid_alpha=10, sigmoid_mid=0.5, skip_invalid_size_inputs_valid_test=True, slowmo_algorithm='LocalSGD', slowmo_momentum=None, soft_range=1.0, source_lang=None, target_lang=None, task='translation', teacher_ckpt_path='', teacher_decoder_layers=6, teacher_distil_rate=0.5, teacher_encoder_layers=6, teacher_predict_temperature=1.0, teacher_predict_temperature_schedule='none', teacher_strategy='', temperature=1.0, tensorboard_logdir='', threshold_loss_scale=None, tokenizer=None, tpu=False, truncate_source=False, unkpen=0, unnormalized=False, upsample_primary=1, use_distillation=False, user_dir=None, warmup_updates=0, zero_first_token=False)
2021-11-24 11:29:47 | INFO | fairseq.tasks.translation | [de] dictionary: 10152 types
2021-11-24 11:29:47 | INFO | fairseq.tasks.translation | [en] dictionary: 10152 types
2021-11-24 11:29:47 | INFO | fairseq.data.data_utils | loaded 6750 examples from: ./data-bin/iwslt14de2en/test.de-en.de
2021-11-24 11:29:47 | INFO | fairseq.data.data_utils | loaded 6750 examples from: ./data-bin/iwslt14de2en/test.de-en.en
2021-11-24 11:29:47 | INFO | fairseq.tasks.translation | ./data-bin/iwslt14de2en test de-en 6750 examples
2021-11-24 11:29:47 | INFO | fairseq_cli.generate | loading model(s) from ./checkpoints/tiny-iwlst-de-en/transformer_iwlst14de2en/checkpoint_best.pt
2021-11-24 11:31:07 | INFO | fairseq_cli.generate | NOTE: hypothesis and token scores are output in base 2
2021-11-24 11:31:07 | INFO | fairseq_cli.generate | Translated 6750 sentences (149342 tokens) in 31.8s (212.37 sentences/s, 4698.55 tokens/s)
Generate test with beam=4: BLEU4 = 34.21, 68.1/42.6/28.6/19.5 (BP=0.960, ratio=0.961, syslen=126025, reflen=131156)
